<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Experience the fusion of retro gaming and steampunk aesthetics in our unique arcade collection"
    />
    <title>Retro Gaming Steampunk Hero</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="consoles.js"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto+Slab:wght@400;700&display=swap");
      body {
        font-family: "Roboto Slab", serif;
      }
    </style>
  </head>
  <body class="bg-[#EAD196] text-[#7D0A0A] p-10">
    <!-- Hero Section -->
    <section class="min-h-[80vh] flex items-center justify-center p-4 sm:p-6">
      <div
        class="max-w-4xl w-full bg-[#EEEEEE] rounded-xl sm:rounded-2xl shadow-2xl overflow-hidden grid md:grid-cols-2 border-4 sm:border-8 border-[#BF3131]"
      >
        <div class="p-4 sm:p-8 flex flex-col justify-center">
          <h1
            class="text-2xl sm:text-4xl md:text-5xl font-bold mb-3 sm:mb-4 text-[#7D0A0A] font-['Press_Start_2P'] leading-relaxed"
          >
            Retro Zero
          </h1>
          <p class="text-base sm:text-xl mb-4 sm:mb-6 text-[#BF3131]">
            Step into a world of pixelated nostalgia and
            gaming glory!
          </p>
          <div class="flex flex-col sm:flex-row gap-3 sm:gap-4">
            <a
              href="#consoles"
              class="bg-[#7D0A0A] text-[#EAD196] px-4 sm:px-6 py-2 sm:py-3 rounded-full hover:bg-[#BF3131] transition duration-300 font-['Press_Start_2P'] text-xs sm:text-sm text-center"
              aria-label="Browse our collection of retro gaming consoles"
            >
              Explore Consoles
            </a>
          </div>
        </div>
        <div
          class="relative bg-[#BF3131] flex items-center justify-center p-4 sm:p-8"
        >
          <div id="consoles"
            class="absolute inset-0 opacity-10 bg-repeat"
            style="
              background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PGcgZmlsbD0iIzAwMCIgb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMTEgMThhNyA3IDAgMCAwLTcgN3Y0NmE3IDcgMCAwIDAgNyA3aDc4YTcgNyAwIDAgMCA3LTdWMjVhNyA3IDAgMCAwLTctN0gxMXptMC0yaDc4YTkgOSAwIDAgMSA5IDl2NDZhOSA5IDAgMCAxLTkgOUgxMWE5IDkgMCAwIDEtOS05VjI1YTkgOSAwIDAgMSA5LTl6Ii8+PHBhdGggZD0iTTQzIDMzYTQgNCAwIDEgMCAwIDggNCA0IDAgMCAwIDAtOHptMC0yYTYgNiAwIDEgMSAwIDEyIDYgNiAwIDAgMSAwLTEyeiIvPjwvZz48L3N2Zz4=');
            "
          ></div>
          <div class="relative z-10 transform rotate-12 shadow-2xl max-w-full">
            <div
              class="bg-[#EEEEEE] p-3 sm:p-4 rounded-xl sm:rounded-2xl border-2 sm:border-4 border-[#7D0A0A]"
            >
              <div
                class="w-48 sm:w-64 h-36 sm:h-48 bg-gray-800 rounded-lg overflow-hidden relative"
              >
                <div
                  class="absolute inset-0 bg-gradient-to-br from-transparent to-black opacity-50"
                ></div>
                <div
                  class="absolute top-3 sm:top-4 left-3 sm:left-4 w-8 sm:w-12 h-8 sm:h-12 bg-[#BF3131] rounded-full"
                ></div>
                <div
                  class="absolute bottom-3 sm:bottom-4 right-3 sm:right-4 w-12 sm:w-16 h-6 sm:h-8 bg-[#7D0A0A] rounded-lg"
                ></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Console Grid Container -->
    <div
      id="console-container"
      class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6 lg:gap-8 max-w-4xl w-full mx-auto"
    ></div>
    
    <!-- Modal Overlay -->
    <div id="modal-overlay" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center">
      <div id="modal-container" class="bg-[#EEEEEE] max-w-2xl w-full mx-4 rounded-xl border-4 border-[#BF3131] shadow-2xl transform transition-all">
        <div class="flex justify-between items-center p-4 border-b-2 border-[#BF3131]">
          <h2 id="modal-title" class="font-['Press_Start_2P'] text-lg text-[#7D0A0A]">Console Details</h2>
          <button id="modal-close" class="text-[#7D0A0A] hover:text-[#BF3131] font-bold text-2xl">&times;</button>
        </div>
        <div class="p-6">
          <div class="grid md:grid-cols-2 gap-6">
            <!-- Console Image -->
            <div class="bg-[#BF3131] bg-opacity-10 rounded-lg p-4 flex items-center justify-center">
              <img id="modal-image" src="" alt="Console" class="max-h-64 object-contain" />
            </div>
            
            <!-- Console Card (PokÃ©mon style) -->
            <div class="bg-gradient-to-br from-[#FFD700] to-[#FFA500] rounded-lg overflow-hidden border-4 border-[#7D0A0A] shadow-lg">
              <!-- Card Header -->
              <div class="bg-[#BF3131] py-2 px-4 border-b-4 border-[#7D0A0A]">
                <h3 id="modal-name" class="font-['Press_Start_2P'] text-[#EAD196] text-center text-lg">Console Name</h3>
              </div>
              <!-- Card Image -->
              <div class="h-48 overflow-hidden relative">
                <div class="absolute inset-0 bg-white bg-opacity-20 flex items-center justify-center">
                  <img id="modal-card-image" src="" alt="Console" class="max-h-full max-w-full object-contain" />
                </div>
              </div>
              <!-- Card Stats -->
              <div class="bg-[#EAD196] p-4">
                <div class="grid grid-cols-2 gap-2 text-sm">
                  <div class="font-bold text-[#7D0A0A]">Generation:</div>
                  <div id="modal-generation">Gen 1</div>
                  <div class="font-bold text-[#7D0A0A]">Release Year:</div>
                  <div id="modal-year">1985</div>
                  <div class="font-bold text-[#7D0A0A]">Original Price:</div>
                  <div id="modal-price">$199</div>
                  <div class="font-bold text-[#7D0A0A]">Sales:</div>
                  <div id="modal-sales">61.91M</div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Console Details -->
          <div class="mt-6">
            <h4 class="font-['Press_Start_2P'] text-[#7D0A0A] text-sm mb-2">Specs & History</h4>
            <div id="modal-description" class="text-[#BF3131] text-sm">
              Console description goes here.
            </div>
            
            <div class="mt-4 grid grid-cols-2 gap-4">
              <div>
                <h4 class="font-['Press_Start_2P'] text-[#7D0A0A] text-xs mb-2">Notable Games</h4>
                <ul id="modal-games" class="text-[#BF3131] text-xs list-disc list-inside">
                  <!-- Games will be inserted here -->
                </ul>
              </div>
              <div>
                <h4 class="font-['Press_Start_2P'] text-[#7D0A0A] text-xs mb-2">Fun Facts</h4>
                <ul id="modal-facts" class="text-[#BF3131] text-xs list-disc list-inside">
                  <!-- Facts will be inserted here -->
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="bg-[#7D0A0A] py-3 px-4 flex justify-end">
          <button id="modal-prev" class="bg-[#EAD196] text-[#7D0A0A] px-4 py-2 rounded-full mr-2 font-['Press_Start_2P'] text-xs hover:bg-[#BF3131] hover:text-[#EAD196] transition duration-300">Prev</button>
          <button id="modal-next" class="bg-[#EAD196] text-[#7D0A0A] px-4 py-2 rounded-full font-['Press_Start_2P'] text-xs hover:bg-[#BF3131] hover:text-[#EAD196] transition duration-300">Next</button>
        </div>
      </div>
    </div>

  <script>
  
    function getPlaceholderImage(name) {
      return `https://placehold.co/400x300/7D0A0A/EAD196?text=${encodeURIComponent(name)}`;
    }

    // Function to create a console card with click handler for modal
    function createConsoleCard(gameConsole, index) {
      const consoleUrl = gameConsole.imageUrl || getPlaceholderImage(gameConsole.name);
      
      const card = document.createElement("div");
      card.className = "bg-[#EEEEEE] rounded-lg overflow-hidden shadow-lg border-2 border-[#BF3131] transition-transform hover:scale-105 cursor-pointer";
      card.setAttribute("data-index", index);
      
      card.innerHTML = `
        <div class="aspect-[4/3] bg-[#7D0A0A] bg-opacity-10 p-2">
          <img
            src="${consoleUrl}"
            alt="${gameConsole.name}"
            class="w-full h-full object-contain"
            onerror="this.src='${getPlaceholderImage(gameConsole.name)}'"
          >
        </div>
        <div class="p-4">
          <h3 class="font-['Press_Start_2P'] text-xs sm:text-sm text-[#7D0A0A] mb-1">${gameConsole.name}</h3>
          <p class="text-[#BF3131] text-xs">${gameConsole.releaseYear}</p>
          <p class="text-[#BF3131] text-xs mt-1">Gen ${gameConsole.generation || '?'}</p>
        </div>
      `;
      
      // Add click event to open modal
      card.addEventListener("click", () => openModal(index));
      
      return card;
    }

    // Sort consoles by release year
    const sortedConsoles = consoleData.sort((a, b) => a.releaseYear - b.releaseYear);

    // Insert console cards into the grid
    const grid = document.getElementById("console-container");
    sortedConsoles.forEach((gameConsole, index) => {
      grid.appendChild(createConsoleCard(gameConsole, index));
    });

    // Modal functionality
    let currentConsoleIndex = 0;
    const modalOverlay = document.getElementById("modal-overlay");
    const modalClose = document.getElementById("modal-close");
    const modalPrev = document.getElementById("modal-prev");
    const modalNext = document.getElementById("modal-next");

    // Function to open modal with console details
    function openModal(index) {
      currentConsoleIndex = index;
      updateModalContent(index);
      modalOverlay.classList.remove("hidden");
      document.body.style.overflow = "hidden"; // Prevent scrolling
    }

    // Function to close modal
    function closeModal() {
      modalOverlay.classList.add("hidden");
      document.body.style.overflow = "auto"; // Re-enable scrolling
    }

    // Function to update modal content
    function updateModalContent(index) {
      const console = sortedConsoles[index];
      
      // Update modal title and images
      document.getElementById("modal-title").textContent = console.name;
      document.getElementById("modal-image").src = console.imageUrl || getPlaceholderImage(console.name);
      document.getElementById("modal-image").alt = console.name;
      document.getElementById("modal-card-image").src = console.imageUrl || getPlaceholderImage(console.name);
      document.getElementById("modal-card-image").alt = console.name;
      
      // Update card details
      document.getElementById("modal-name").textContent = console.name;
      document.getElementById("modal-generation").textContent = console.generation ? `Gen ${console.generation}` : "Unknown";
      document.getElementById("modal-year").textContent = console.releaseYear;
      
      // Format price with dollar sign if available
      const price = console.originalPrice ? `${console.originalPrice}` : "Unknown";
      document.getElementById("modal-price").textContent = price;
      
      // Format sales with abbreviation if available
      let salesText = "Unknown";
      if (console.globalSales) {
        if (console.globalSales >= 1000000) {
          salesText = (console.globalSales / 1000000).toFixed(2) + "M";
        } else if (console.globalSales >= 1000) {
          salesText = (console.globalSales / 1000).toFixed(2) + "K";
        } else {
          salesText = console.globalSales.toString();
        }
      }
      document.getElementById("modal-sales").textContent = salesText;
      
      // Update description
      document.getElementById("modal-description").textContent = console.description || "No description available.";
      
      // Update games list
      const gamesList = document.getElementById("modal-games");
      gamesList.innerHTML = "";
      if (console.notableGames && console.notableGames.length > 0) {
        console.notableGames.forEach(game => {
          const li = document.createElement("li");
          li.textContent = game;
          gamesList.appendChild(li);
        });
      } else {
        const li = document.createElement("li");
        li.textContent = "Information not available";
        gamesList.appendChild(li);
      }
      
      // Update facts list
      const factsList = document.getElementById("modal-facts");
      factsList.innerHTML = "";
      if (console.funFacts && console.funFacts.length > 0) {
        console.funFacts.forEach(fact => {
          const li = document.createElement("li");
          li.textContent = fact;
          factsList.appendChild(li);
        });
      } else {
        const li = document.createElement("li");
        li.textContent = "Information not available";
        factsList.appendChild(li);
      }
    }

    // Navigate to previous console
    function prevConsole() {
      currentConsoleIndex = (currentConsoleIndex - 1 + sortedConsoles.length) % sortedConsoles.length;
      updateModalContent(currentConsoleIndex);
    }

    // Navigate to next console
    function nextConsole() {
      currentConsoleIndex = (currentConsoleIndex + 1) % sortedConsoles.length;
      updateModalContent(currentConsoleIndex);
    }

    // Event listeners for modal buttons
    modalClose.addEventListener("click", closeModal);
    modalPrev.addEventListener("click", prevConsole);
    modalNext.addEventListener("click", nextConsole);

    // Close modal when clicking outside
    modalOverlay.addEventListener("click", (e) => {
      if (e.target === modalOverlay) {
        closeModal();
      }
    });

    // Keyboard navigation
    document.addEventListener("keydown", (e) => {
      if (modalOverlay.classList.contains("hidden")) return;
      
      if (e.key === "Escape") closeModal();
      if (e.key === "ArrowLeft") prevConsole();
      if (e.key === "ArrowRight") nextConsole();
    });
  </script>
  </body>
</html>
